#!/bin/sh

#
# Set the TCOO_HOME variable
#
if [ -z $TCOO_HOME ]
then
  echo Warning: TCOO_HOME not set! Defaulting to parent directory.
  TCOO_HOME=..
  export TCOO_HOME
fi


#
# Set up the Java environment
#
if [ -z "$JAVA_HOME" ] ; then
  JAVA=`which java`
  if [ -z "$JAVA" ] ; then
    echo "Cannot find JAVA. Please set your PATH."
    exit 1
  fi
  JAVA_BIN=`dirname $JAVA`
  JAVA_HOME=$JAVA_BIN/..
fi
JAVA=$JAVA_HOME/bin/java


#
# Check for the separator
#
case `uname` in
   CYGWIN*) PS=';' ;;
   *) PS=':' ;;
esac


#
# Collect jars for the bootclasspath
#
BOOTCLASSPATH=`echo $TCOO_HOME/OpenORB/lib/endorsed/*.jar | tr ' ' ${PS}`


#
# Launch the application
#
$JAVA -Xbootclasspath/p:$BOOTCLASSPATH -jar $TCOO_HOME/tools/lib/launcher.jar org.openorb.orb.util.IORDump "$@"

