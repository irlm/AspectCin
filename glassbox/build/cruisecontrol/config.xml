<cruisecontrol>
    <project name="Glassbox" buildafterfailed="false">

        <listeners>
            <currentbuildstatuslistener file="logs/${project.name}/status.txt"/>
        </listeners>

        <modificationset quietperiod="30">
            <cvs localWorkingCopy="projects/${project.name}"/>
        </modificationset>

        <schedule interval="300">
            <ant anthome="apache-ant-1.6.5" buildfile="projects/${project.name}/build-cruisecontrol.xml"/>
        </schedule>

        <log>
            <merge dir="projects/${project.name}/dist/output/agent/reports/junit"/>
            <merge dir="projects/${project.name}/dist/output/bootstrap/reports/junit"/>
            <merge dir="projects/${project.name}/dist/output/glassbox/reports/junit"/>
            <merge dir="projects/${project.name}/dist/output/monitor/reports/junit"/>
            <merge dir="projects/${project.name}/dist/output/webClient/reports/junit"/>
        </log>

        <publishers>
            <artifactspublisher dest="artifacts/${project.name}" dir="projects/${project.name}/dist/dist"/>

            <email mailhost="localhost"
                   skipusers="yes"
                   returnaddress="glassbox_build@users.sourceforge.net"
                   buildresultsurl="http://glassbox.com:8888/buildresults/Glassbox"
                   spamwhilebroken="false">

                <always address="glassbox-commits@lists.sourceforge.net"/>
            </email>
        </publishers>

    </project>
</cruisecontrol>
